<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文本组件测试</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background: #f9fafb;
        }
        
        .line-clamp-5 {
            display: -webkit-box;
            -webkit-line-clamp: 5;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.5;
        }
        
        .auto-resize-textarea {
            transition: height 0.2s ease-in-out;
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            resize: none;
        }
        
        .truncated-text-toggle {
            transition: color 0.2s ease-in-out;
            color: #6366f1;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            margin-top: 8px;
        }
        
        .truncated-text-toggle:hover {
            text-decoration: underline;
            color: #4f46e5;
        }
    </style>
</head>
<body>
    <h1>文本组件功能测试</h1>
    
    <div class="test-section">
        <h2>5行文本限制测试</h2>
        <p>以下文本应该限制在5行内显示，超出部分会被截断：</p>
        <div class="line-clamp-5">
            这是一段很长的文本，用来测试5行限制功能。
            第二行文本内容，继续测试文本截断效果。
            第三行文本，验证line-clamp是否正常工作。
            第四行文本，检查CSS样式是否正确应用。
            第五行文本，这应该是最后一行可见的内容。
            第六行文本，这行应该被隐藏不显示。
            第七行文本，同样应该被截断隐藏。
            第八行文本，用户看不到这些内容。
        </div>
    </div>
    
    <div class="test-section">
        <h2>自适应文本区域测试</h2>
        <p>以下文本区域会根据内容自动调整高度：</p>
        <textarea 
            class="auto-resize-textarea" 
            placeholder="在这里输入文本，文本区域会自动调整高度..."
            oninput="autoResize(this)"
        ></textarea>
    </div>
    
    <div class="test-section">
        <h2>展开/收起按钮测试</h2>
        <div id="truncated-demo">
            <div id="text-content" class="line-clamp-5">
                这是一段需要展开/收起功能的长文本。
                第二行：项目管理系统的核心功能包括项目创建、任务分配、进度跟踪等。
                第三行：用户可以通过直观的界面管理多个项目，查看团队成员的工作状态。
                第四行：系统支持实时协作，团队成员可以随时更新项目进展和遇到的问题。
                第五行：这是第五行内容，按照设计应该是最后一行可见内容。
                第六行：这行内容应该被隐藏，只有点击展开按钮才能看到。
                第七行：更多的隐藏内容，用来测试展开功能是否正常工作。
                第八行：最后一行隐藏的文本内容。
            </div>
            <button class="truncated-text-toggle" onclick="toggleText()">展开</button>
        </div>
    </div>
    
    <script>
        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = textarea.scrollHeight + 'px';
        }
        
        let isExpanded = false;
        function toggleText() {
            const textContent = document.getElementById('text-content');
            const button = document.querySelector('.truncated-text-toggle');
            
            if (isExpanded) {
                textContent.classList.add('line-clamp-5');
                button.textContent = '展开';
            } else {
                textContent.classList.remove('line-clamp-5');
                button.textContent = '收起';
            }
            isExpanded = !isExpanded;
        }
    </script>
</body>
</html>