<!DOCTYPE html>
<html>
<head>
    <title>换行功能测试</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-area { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        textarea { width: 100%; height: 100px; padding: 10px; }
        .contenteditable { border: 1px solid #ccc; padding: 10px; min-height: 100px; }
    </style>
</head>
<body>
    <h1>换行功能测试页面</h1>
    
    <div class="test-area">
        <h3>1. 普通 Textarea（应该支持Enter换行）</h3>
        <textarea placeholder="在这里测试换行功能..."></textarea>
        <p>说明：Enter键应该直接换行</p>
    </div>
    
    <div class="test-area">
        <h3>2. ContentEditable（模拟富文本编辑器）</h3>
        <div class="contenteditable" contenteditable="true" data-placeholder="在这里测试富文本换行..."></div>
        <p>说明：Enter键应该换行，Shift+Enter也应该换行</p>
    </div>
    
    <div class="test-area">
        <h3>3. 评论框模拟（Ctrl/Cmd+Enter提交）</h3>
        <textarea id="comment-area" placeholder="输入评论，Ctrl/Cmd+Enter提交..."></textarea>
        <button onclick="submitComment()">提交</button>
        <p>说明：Enter换行，Ctrl+Enter或Cmd+Enter应该提交</p>
    </div>
    
    <script>
        // 评论框功能测试
        document.getElementById('comment-area').addEventListener('keydown', function(e) {
            console.log('Key pressed:', e.key, 'Ctrl:', e.ctrlKey, 'Meta:', e.metaKey, 'Shift:', e.shiftKey);
            if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
                e.preventDefault();
                console.log('Submitting comment...');
                submitComment();
            }
        });
        
        function submitComment() {
            const textarea = document.getElementById('comment-area');
            if (textarea.value.trim()) {
                // 使用更明显的反馈方式
                const feedback = document.createElement('div');
                feedback.style.cssText = 'position:fixed;top:20px;right:20px;background:#4CAF50;color:white;padding:15px;border-radius:5px;z-index:9999;font-weight:bold;';
                feedback.textContent = '✅ 评论已提交！';
                document.body.appendChild(feedback);
                
                console.log('✅ 评论已提交：', textarea.value);
                textarea.value = '';
                
                // 3秒后移除提示
                setTimeout(() => {
                    if (feedback.parentNode) {
                        feedback.parentNode.removeChild(feedback);
                    }
                }, 3000);
            } else {
                console.log('❌ 评论内容为空');
            }
        }
    </script>
</body>
</html>